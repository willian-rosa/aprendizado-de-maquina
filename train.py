from backpropagation import BackPropagation
from util import Util

input_training_string = [
    '..##......#......#.....#.#....#.#...#####..#...#..#...#.###.###',
    '...#......#......#.....#.#....#.#...#####..#...#..#...#..#...#.',
    '...#......#.....#.#....#.#...#...#..#####.#.....##.....###...##',
    '######..#....#.#....#.#....#.#####..#....#.#....#.#....#######.',
    '######.#.....##.....##.....#######.#.....##.....##.....#######.',
    '######..#....#.#....#.#####..#....#.#....#.#....#.#....#######.',
    '..#####.#....##......#......#......#......#.......#....#..####.',
    '..###...#...#.#.....##......#......#......#.....#.#...#...###..',
    '..###.#.#...###.....##......#......#......#.....#.#...#...###..',
    '#####...#...#..#....#.#....#.#....#.#....#.#....#.#...#.#####..',
    '#####..#....#.#.....##.....##.....##.....##.....##....#.#####..',
    '#####...#...#..#....#.#....#.#....#.#....#.#....#.#...#.#####..',
    '#######.#....#.#......#.#....###....#.#....#......#....########',
    '########......#......#......#####..#......#......#......#######',
    '#######.#....#.#..#...####...#..#...#......#......#....########',
    '...####.....#......#......#......#......#..#...#..#...#...###..',
    '.....#......#......#......#......#......#..#...#..#...#...###..',
    '....###.....#......#......#......#......#......#..#...#...###..',
    '###..##.#..#...#.#....##.....##.....#.#....#..#...#...#.###..##',
    '#....#.#...#..#..#...#.#....##.....#.#....#..#...#...#..#....#.',
    '###..##.#...#..#..#...#.#....##.....#.#....#..#...#...#.###..##'
]

output_training_string = [
    '#......',
    '#......',
    '#......',
    '.#.....',
    '.#.....',
    '.#.....',
    '..#....',
    '..#....',
    '..#....',
    '...#...',
    '...#...',
    '...#...',
    '....#..',
    '....#..',
    '....#..',
    '.....#.',
    '.....#.',
    '.....#.',
    '......#',
    '......#',
    '......#'
]


input_training = []
output_training = []

for i, value in enumerate(input_training_string):
    input_training.append(Util.convert(value))
    output_training.append(Util.convert(output_training_string[i]))

bp = BackPropagation()

nn = bp.create_ann([63, 63, 7])
seasons = 20
alfa = 1

nn_trained = bp.run(input_training, output_training, nn, seasons, alfa)

bp.save(nn_trained)

print("Rede treinada e salva")
